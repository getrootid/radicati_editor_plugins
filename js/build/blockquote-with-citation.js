!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(t.CKEditor5=t.CKEditor5||{},t.CKEditor5["blockquote-with-citation"]=e())}(self,(()=>(()=>{var t={"ckeditor5/src/core.js":(t,e,o)=>{t.exports=o("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(t,e,o)=>{t.exports=o("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/widget.js":(t,e,o)=>{t.exports=o("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":t=>{"use strict";t.exports=CKEditor5.dll}},e={};function o(i){var n=e[i];if(void 0!==n)return n.exports;var c=e[i]={exports:{}};return t[i](c,c.exports,o),c.exports}o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i={};return(()=>{"use strict";o.d(i,{default:()=>s});var t=o("ckeditor5/src/core.js"),e=o("ckeditor5/src/widget.js");class n extends t.Command{execute(){this.editor.model.change((t=>{const e=t.createElement("blockquoteWithCitation"),o=t.createElement("blockquoteWithCitationQuote"),i=t.createElement("blockquoteWithCitationCitation");t.append(o,e),t.append(i,e);const n=t.createText("Quote Text"),c=t.createText("Attribution");t.append(n,o),t.append(c,i),this.editor.model.insertObject(e)}))}refresh(){const t=this.editor.model,e=t.document.selection,o=t.schema.findAllowedParent(e.getFirstPosition(),"blockquoteWithCitation");this.isEnabled=null!==o}}class c extends t.Plugin{static get requires(){return[e.Widget]}init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("insertBlockquoteWithCitation",new n(this.editor))}_defineSchema(){const t=this.editor.model.schema;t.register("blockquoteWithCitation",{inheritAllFrom:"$blockObject"}),t.register("blockquoteWithCitationQuote",{isLimit:!0,allowIn:"blockquoteWithCitation",allowContentOf:"$block"}),t.register("blockquoteWithCitationCitation",{isLimit:!0,allowIn:"blockquoteWithCitation",allowContentOf:"$block"}),t.addChildCheck(((t,e)=>{if(t.startsWith("blockquoteWithCitation")&&"blockquoteWithCitation"===e.name)return!1}))}_defineConverters(){const t=this.editor.conversion;t.for("upcast").elementToElement({model:"blockquoteWithCitation",view:{name:"blockquote",classes:"blockquote-with-citation"}}),t.for("dataDowncast").elementToElement({model:"blockquoteWithCitation",view:{name:"blockquote",classes:"blockquote-with-citation"}}),t.for("editingDowncast").elementToElement({model:"blockquoteWithCitation",view:(t,{writer:o})=>{const i=o.createContainerElement("blockquote",{class:"blockquote-with-citation"});return(0,e.toWidget)(i,o,{label:"Blockquote with Citation"})}}),t.for("upcast").elementToElement({model:"blockquoteWithCitationQuote",view:{name:"p",classes:"blockquote-with-citation__quote"}}),t.for("dataDowncast").elementToElement({model:"blockquoteWithCitationQuote",view:{name:"p",classes:"blockquote-with-citation__quote"}}),t.for("editingDowncast").elementToElement({model:"blockquoteWithCitationQuote",view:(t,{writer:o})=>{const i=o.createEditableElement("p",{class:"blockquote-with-citation__quote"});return(0,e.toWidgetEditable)(i,o)}}),t.for("upcast").elementToElement({model:"blockquoteWithCitationCitation",view:{name:"footer",classes:"blockquote-with-citation__citation"}}),t.for("dataDowncast").elementToElement({model:"blockquoteWithCitationCitation",view:{name:"footer",classes:"blockquote-with-citation__citation"}}),t.for("editingDowncast").elementToElement({model:"blockquoteWithCitationCitation",view:(t,{writer:o})=>{const i=o.createEditableElement("footer",{class:"blockquote-with-citation__citation"});return(0,e.toWidgetEditable)(i,o)}})}}var l=o("ckeditor5/src/ui.js");class r extends t.Plugin{init(){const{editor:e}=this;e.ui.componentFactory.add("blockquoteWithCitation",(o=>{const i=new l.ButtonView(o);return i.set({label:"Insert Call to Action",icon:t.icons.quote,tooltip:!0}),this.listenTo(i,"execute",(()=>e.execute("insertBlockquoteWithCitation"))),i}))}}class a extends t.Plugin{static get requires(){return[c,r]}static get pluginName(){return"BlockquoteWithCitation"}}const s={BlockquoteWithCitation:a}})(),i=i.default})()));