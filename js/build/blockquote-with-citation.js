!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5["blockquote-with-citation"]=t())}(self,(()=>(()=>{var __webpack_modules__={"./js/ckeditor5_plugins/blockquote-with-citation/src/blockquote.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ BlockquoteWithCitation)\n/* harmony export */ });\n/* harmony import */ var ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ckeditor5/src/core */ "ckeditor5/src/core.js");\n/* harmony import */ var _blockquoteediting_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./blockquoteediting.js */ "./js/ckeditor5_plugins/blockquote-with-citation/src/blockquoteediting.js");\n/* harmony import */ var _blockquoteui_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./blockquoteui.js */ "./js/ckeditor5_plugins/blockquote-with-citation/src/blockquoteui.js");\n\n\n\n\nclass BlockquoteWithCitation extends ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  static get requires() {\n    return [_blockquoteediting_js__WEBPACK_IMPORTED_MODULE_1__["default"], _blockquoteui_js__WEBPACK_IMPORTED_MODULE_2__["default"]];\n  }\n\n  static get pluginName() {\n    return \'BlockquoteWithCitation\';\n  }\n}\n\n\n\n\n//# sourceURL=webpack://CKEditor5.blockquote-with-citation/./js/ckeditor5_plugins/blockquote-with-citation/src/blockquote.js?')},"./js/ckeditor5_plugins/blockquote-with-citation/src/blockquoteediting.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BlockquoteWithCitationEditing)\n/* harmony export */ });\n/* harmony import */ var ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ckeditor5/src/core */ \"ckeditor5/src/core.js\");\n/* harmony import */ var ckeditor5_src_widget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ckeditor5/src/widget */ \"ckeditor5/src/widget.js\");\n/* harmony import */ var _insertblockquotecommand_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./insertblockquotecommand.js */ \"./js/ckeditor5_plugins/blockquote-with-citation/src/insertblockquotecommand.js\");\n\n\n\n//import { enablePlaceholder } from 'ckeditor5/src/engine';\n\n\n\n\nclass BlockquoteWithCitationEditing extends ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  static get requires() {\n    return [ckeditor5_src_widget__WEBPACK_IMPORTED_MODULE_1__.Widget];\n  }\n\n  init() {\n    this._defineSchema();\n    this._defineConverters();\n\n    this.editor.commands.add(\n        'insertBlockquoteWithCitation', new _insertblockquotecommand_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]( this.editor ) );\n  }\n\n  _defineSchema() {\n    const schema = this.editor.model.schema;\n\n    schema.register( 'blockquoteWithCitation', {\n      inheritAllFrom: '$blockObject'\n    } );\n\n    schema.register('blockquoteWithCitationQuote', {\n      isLimit: true,\n      allowIn: 'blockquoteWithCitation',\n      allowContentOf: '$block',\n    });\n\n    schema.register('blockquoteWithCitationCitation', {\n      isLimit: true,\n      allowIn: 'blockquoteWithCitation',\n      allowContentOf: '$block',\n    });\n\n    schema.addChildCheck( ( context, childDefinition ) => {\n      if ( context.startsWith( 'blockquoteWithCitation' ) && childDefinition.name === 'blockquoteWithCitation' ) {\n        return false;\n      }\n    } );\n  }\n\n  _defineConverters() {\n    const conversion = this.editor.conversion;\n\n    // The CTA Parent\n    conversion.for('upcast').elementToElement({\n      model: 'blockquoteWithCitation',\n      view: {\n        name: 'blockquote',\n        classes: 'blockquote-with-citation',\n      }\n    });\n    conversion.for('dataDowncast').elementToElement({\n      model: 'blockquoteWithCitation',\n      view: {\n        name: 'blockquote',\n        classes: 'blockquote-with-citation',\n      }\n    });\n    conversion.for('editingDowncast').elementToElement({\n      model: 'blockquoteWithCitation',\n      view: (modelElement, { writer }) => {\n        const section = writer.createContainerElement('blockquote', {\n          class: 'blockquote-with-citation',\n        });\n\n        return (0,ckeditor5_src_widget__WEBPACK_IMPORTED_MODULE_1__.toWidget)(section, writer, { label: 'Blockquote with Citation' });\n      }\n    });\n\n    // The Quote -=--=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n    conversion.for('upcast').elementToElement({\n      model: 'blockquoteWithCitationQuote',\n      view: {\n        name: 'p',\n        classes: 'blockquote-with-citation__quote',\n      }\n    });\n\n    conversion.for('dataDowncast').elementToElement({\n      model: 'blockquoteWithCitationQuote',\n      view: {\n        name: 'p',\n        classes: 'blockquote-with-citation__quote',\n      }\n    });\n\n    conversion.for('editingDowncast').elementToElement({\n      model: 'blockquoteWithCitationQuote',\n      view: (modelElement, { writer }) => {\n        const h2 = writer.createEditableElement('p', {\n          class: 'blockquote-with-citation__quote',\n        });\n\n        // enablePlaceholder({\n        //   view: this.editor.editing.view,\n        //   element: h2,\n        //   text: 'Quote',\n        // })\n\n        return (0,ckeditor5_src_widget__WEBPACK_IMPORTED_MODULE_1__.toWidgetEditable)(h2, writer);\n      }\n    });\n\n    // The Citation -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=--=-=\n\n    conversion.for('upcast').elementToElement({\n      model: 'blockquoteWithCitationCitation',\n      view: {\n        name: 'footer',\n        classes: 'blockquote-with-citation__citation',\n      }\n    });\n    conversion.for('dataDowncast').elementToElement({\n      model: 'blockquoteWithCitationCitation',\n      view: {\n        name: 'footer',\n        classes: 'blockquote-with-citation__citation',\n      }\n    });\n    conversion.for('editingDowncast').elementToElement({\n      model: 'blockquoteWithCitationCitation',\n      view: (modelElement, { writer }) => {\n        const div = writer.createEditableElement('footer', {\n          class: 'blockquote-with-citation__citation',\n        });\n\n        return (0,ckeditor5_src_widget__WEBPACK_IMPORTED_MODULE_1__.toWidgetEditable)(div, writer);\n      }\n    });\n  }\n}\n\n//# sourceURL=webpack://CKEditor5.blockquote-with-citation/./js/ckeditor5_plugins/blockquote-with-citation/src/blockquoteediting.js?")},"./js/ckeditor5_plugins/blockquote-with-citation/src/blockquoteui.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BlockquoteWithCitationUI)\n/* harmony export */ });\n/* harmony import */ var ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ckeditor5/src/core */ \"ckeditor5/src/core.js\");\n/* harmony import */ var ckeditor5_src_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ckeditor5/src/ui */ \"ckeditor5/src/ui.js\");\n\n\n\nclass BlockquoteWithCitationUI extends ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__.Plugin {\n  init() {\n    const { editor } = this;\n\n    editor.ui.componentFactory.add('blockquoteWithCitation', locale => {\n      const view = new ckeditor5_src_ui__WEBPACK_IMPORTED_MODULE_1__.ButtonView(locale);\n\n      view.set({\n        label: 'Insert Call to Action',\n        icon: ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__.icons.quote,\n        tooltip: true,\n      });\n\n      this.listenTo( view, 'execute', () => editor.execute('insertBlockquoteWithCitation'));\n      return view;\n    });\n  }\n}\n\n//# sourceURL=webpack://CKEditor5.blockquote-with-citation/./js/ckeditor5_plugins/blockquote-with-citation/src/blockquoteui.js?")},"./js/ckeditor5_plugins/blockquote-with-citation/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _blockquote_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blockquote.js */ "./js/ckeditor5_plugins/blockquote-with-citation/src/blockquote.js");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  BlockquoteWithCitation: _blockquote_js__WEBPACK_IMPORTED_MODULE_0__["default"]\n});\n\n//# sourceURL=webpack://CKEditor5.blockquote-with-citation/./js/ckeditor5_plugins/blockquote-with-citation/src/index.js?')},"./js/ckeditor5_plugins/blockquote-with-citation/src/insertblockquotecommand.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ InsertBlockquoteWithCitationCommand)\n/* harmony export */ });\n/* harmony import */ var ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ckeditor5/src/core */ \"ckeditor5/src/core.js\");\n\n\nclass InsertBlockquoteWithCitationCommand extends ckeditor5_src_core__WEBPACK_IMPORTED_MODULE_0__.Command {\n  execute() {\n    this.editor.model.change( writer => {\n\n      const wrapper = writer.createElement( 'blockquoteWithCitation' );\n      const quote = writer.createElement('blockquoteWithCitationQuote');\n      const citation = writer.createElement('blockquoteWithCitationCitation');\n\n      writer.append(quote, wrapper);\n      writer.append(citation, wrapper);\n\n      const placeholderQuote = writer.createText('Quote Text');\n      const placeholderCitation = writer.createText('Attribution');\n\n      writer.append(placeholderQuote, quote);\n      writer.append(placeholderCitation, citation);\n\n      // const button_paragraph = writer.createElement('paragraph');\n      // const button = writer.createText('Learn More', {linkHref: '/'});\n      // writer.append(button, button_paragraph);\n      //\n      // writer.append(button_paragraph, cta_button_wrapper);\n      //\n      // const blurbContent = writer.createElement('paragraph');\n      // const placeholderBlurb = writer.createText('Call to Action Blurb');\n      // writer.append(placeholderBlurb, blurbContent);\n      //\n      // writer.append(blurbContent, cta_blurb);\n\n\n      this.editor.model.insertObject( wrapper );\n    } );\n  }\n\n  refresh() {\n    const model = this.editor.model;\n    const selection = model.document.selection;\n    const allowedIn = model.schema.findAllowedParent( selection.getFirstPosition(), 'blockquoteWithCitation' );\n\n    this.isEnabled = allowedIn !== null;\n  }\n\n\n}\n\n//# sourceURL=webpack://CKEditor5.blockquote-with-citation/./js/ckeditor5_plugins/blockquote-with-citation/src/insertblockquotecommand.js?")},"ckeditor5/src/core.js":(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = (__webpack_require__(/*! dll-reference CKEditor5.dll */ "dll-reference CKEditor5.dll"))("./src/core.js");\n\n//# sourceURL=webpack://CKEditor5.blockquote-with-citation/delegated_./core.js_from_dll-reference_CKEditor5.dll?')},"ckeditor5/src/ui.js":(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = (__webpack_require__(/*! dll-reference CKEditor5.dll */ "dll-reference CKEditor5.dll"))("./src/ui.js");\n\n//# sourceURL=webpack://CKEditor5.blockquote-with-citation/delegated_./ui.js_from_dll-reference_CKEditor5.dll?')},"ckeditor5/src/widget.js":(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = (__webpack_require__(/*! dll-reference CKEditor5.dll */ "dll-reference CKEditor5.dll"))("./src/widget.js");\n\n//# sourceURL=webpack://CKEditor5.blockquote-with-citation/delegated_./widget.js_from_dll-reference_CKEditor5.dll?')},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var o=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](o,o.exports,__webpack_require__),o.exports}__webpack_require__.d=(e,t)=>{for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./js/ckeditor5_plugins/blockquote-with-citation/src/index.js");return __webpack_exports__=__webpack_exports__.default,__webpack_exports__})()));